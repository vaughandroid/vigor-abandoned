apply plugin: 'com.android.application'
apply plugin: 'com.neenbedankt.android-apt'

android {
    def globalConfig = rootProject.ext

    compileSdkVersion globalConfig.androidCompileSdkVersion
    buildToolsVersion globalConfig.androidBuildToolsVersion

    compileOptions {
        sourceCompatibility globalConfig.javaSourceCompatibility
        targetCompatibility globalConfig.javaTargetCompatibility
    }

    defaultConfig {
        applicationId "vaughandroid.vigor"
        minSdkVersion globalConfig.androidMinSdkVersion
        targetSdkVersion globalConfig.androidTargetSdkVersion
        versionCode 1
        versionName "1.0"

        vectorDrawables.useSupportLibrary = true
    }

    buildTypes {
        debug {
            minifyEnabled false
            applicationIdSuffix ".debug"
        }
        release {
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

    packagingOptions {
        exclude 'LICENSE.txt'
        exclude 'META-INF/DEPENDENCIES'
        exclude 'META-INF/ASL2.0'
        exclude 'META-INF/NOTICE'
        exclude 'META-INF/LICENSE'
    }
}

dependencies {
    compile project(':domain')
    compile project(':data')

    def appDependencies = rootProject.ext.appDependencies
    provided appDependencies.javaxAnnotation
    compile appDependencies.androidAnnotations
    compile appDependencies.appCompat
    compile appDependencies.design
    apt appDependencies.daggerCompiler
    compile appDependencies.dagger
    apt appDependencies.butterKnifeCompiler
    compile appDependencies.butterKnife

    debugCompile appDependencies.leakCanary
    releaseCompile appDependencies.leakCanaryNoOp
    testCompile appDependencies.leakCanaryNoOp

    compile appDependencies.autoValue
    apt appDependencies.autoValue

    def appTestDependencies = rootProject.ext.appTestDependencies
    testCompile appTestDependencies.jUnit
    testCompile appTestDependencies.mockito
    androidTestCompile appTestDependencies.androidAnnotations
    androidTestCompile appTestDependencies.jUnit
    androidTestCompile appTestDependencies.mockito
    androidTestCompile appTestDependencies.dexmaker
    androidTestCompile appTestDependencies.dexmakerMockito
    androidTestCompile appTestDependencies.dexmakerDx
    androidTestCompile appTestDependencies.espresso
    androidTestCompile appTestDependencies.testSupportRunner
    androidTestCompile appTestDependencies.testSupportRules
}
